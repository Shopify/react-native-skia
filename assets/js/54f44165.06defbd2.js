"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7924],{1184:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>o});var i=n(4041);const s={},a=i.createContext(s);function r(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(a.Provider,{value:t},e.children)}},4376:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"getting-started/installation","title":"Installation","description":"React Native Skia brings the Skia Graphics Library to React Native.","source":"@site/docs/getting-started/installation.md","sourceDirName":"getting-started","slug":"/getting-started/installation","permalink":"/react-native-skia/docs/getting-started/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/shopify/react-native-skia/edit/main/docs/docs/getting-started/installation.md","tags":[],"version":"current","frontMatter":{"id":"installation","title":"Installation","sidebar_label":"Installation","slug":"/getting-started/installation"},"sidebar":"tutorialSidebar","next":{"title":"Hello World","permalink":"/react-native-skia/docs/getting-started/hello-world"}}');var s=n(1085),a=n(1184);const r={id:"installation",title:"Installation",sidebar_label:"Installation",slug:"/getting-started/installation"},o=void 0,d={},l=[{value:"Using Expo",id:"using-expo",level:3},{value:"Bundle Size",id:"bundle-size",level:3},{value:"iOS",id:"ios",level:2},{value:"Android",id:"android",level:2},{value:"Proguard",id:"proguard",level:3},{value:"TroubleShooting",id:"troubleshooting",level:3},{value:"Web",id:"web",level:2},{value:"TV",id:"tv",level:2},{value:"Debugging",id:"debugging",level:2},{value:"Testing with Jest",id:"testing-with-jest",level:2},{value:"Playground",id:"playground",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["React Native Skia brings the ",(0,s.jsx)(t.a,{href:"https://skia.org/",children:"Skia Graphics Library"})," to React Native.\nSkia serves as the graphics engine for Google Chrome and Chrome OS, Android, Flutter, Mozilla Firefox, Firefox OS, and many other products."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Version compatibility:"}),"\n",(0,s.jsx)(t.code,{children:"react-native@>=0.79"})," and ",(0,s.jsx)(t.code,{children:"react@>=19"})," are required. ",(0,s.jsx)("br",{}),"\nIn addition you should make sure you're on at least ",(0,s.jsx)(t.code,{children:"iOS 14"})," and ",(0,s.jsx)(t.code,{children:"Android API level 21"})," or above. ",(0,s.jsx)("br",{}),"\nTo use React Native Skia with video support, ",(0,s.jsx)(t.code,{children:"Android API level 26"})," or above is required."]}),"\n",(0,s.jsxs)(t.p,{children:["For ",(0,s.jsx)(t.code,{children:"react-native@<=0.78"})," and ",(0,s.jsx)(t.code,{children:"react@<=18"}),", you need to use ",(0,s.jsx)(t.code,{children:"@shopify/react-native-skia"})," version ",(0,s.jsx)(t.code,{children:"1.12.4"})," or below."]}),"\n",(0,s.jsx)(t.p,{children:"tvOS, macOS, and macOS Catalyst are also supported platforms."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"yarn add @shopify/react-native-skia\n# or\nnpm install @shopify/react-native-skia\n"})}),"\n",(0,s.jsxs)(t.p,{children:["If you're using ",(0,s.jsx)(t.strong,{children:"bun"})," or ",(0,s.jsx)(t.strong,{children:"pnpm"}),", you'll need to trust the package for the postinstall script to run:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"# bun\nbun add --trust @shopify/react-native-skia\n\n# pnpm (v10+)\npnpm add --allow-build=@shopify/react-native-skia @shopify/react-native-skia\n"})}),"\n",(0,s.jsx)(t.h3,{id:"using-expo",children:"Using Expo"}),"\n",(0,s.jsxs)(t.p,{children:["Expo provides a ",(0,s.jsx)(t.code,{children:"with-skia"})," template, which you can use to create a new project."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"yarn create expo-app my-app -e with-skia\n# or\nnpx create-expo-app my-app -e with-skia\n"})}),"\n",(0,s.jsx)("video",{width:"61%",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:(0,s.jsx)("source",{src:"https://firebasestorage.googleapis.com/v0/b/start-react-native.appspot.com/o/expo-template2.mp4?alt=media&token=cdc13f16-9c5a-488a-b5d6-19d11f3e1842",type:"video/mp4"})}),"\n",(0,s.jsx)(t.h3,{id:"bundle-size",children:"Bundle Size"}),"\n",(0,s.jsxs)(t.p,{children:["Below is the app size increase to be expected when adding React Native Skia to your project (",(0,s.jsx)(t.a,{href:"bundle-size",children:"learn more"}),")."]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"iOS"}),(0,s.jsx)(t.th,{children:"Android"}),(0,s.jsx)(t.th,{children:"Web"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"6 MB"}),(0,s.jsx)(t.td,{children:"4 MB"}),(0,s.jsx)(t.td,{children:"2.9 MB"})]})})]}),"\n",(0,s.jsx)(t.h2,{id:"ios",children:"iOS"}),"\n",(0,s.jsxs)(t.p,{children:["Run ",(0,s.jsx)(t.code,{children:"pod install"})," on the ",(0,s.jsx)(t.code,{children:"ios/"})," directory."]}),"\n",(0,s.jsx)(t.h2,{id:"android",children:"Android"}),"\n",(0,s.jsxs)(t.p,{children:["Currently, you will need Android NDK to be installed.\nIf you have Android Studio installed, make sure ",(0,s.jsx)(t.code,{children:"$ANDROID_NDK"})," is available.\n",(0,s.jsx)(t.code,{children:"ANDROID_NDK=/Users/username/Library/Android/sdk/ndk/<version>"})," for instance."]}),"\n",(0,s.jsxs)(t.p,{children:["If the NDK is not installed, you can install it via Android Studio by going to the menu ",(0,s.jsx)(t.em,{children:"File > Project Structure"})]}),"\n",(0,s.jsxs)(t.p,{children:["And then the ",(0,s.jsx)(t.em,{children:"SDK Location"})," section. It will show you the NDK path, or the option to download it if you don't have it installed."]}),"\n",(0,s.jsx)(t.h3,{id:"proguard",children:"Proguard"}),"\n",(0,s.jsxs)(t.p,{children:["If you're using Proguard, make sure to add the following rule at ",(0,s.jsx)(t.code,{children:"proguard-rules.pro"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"-keep class com.shopify.reactnative.skia.** { *; }\n"})}),"\n",(0,s.jsx)(t.h3,{id:"troubleshooting",children:"TroubleShooting"}),"\n",(0,s.jsxs)(t.p,{children:["For error ",(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.em,{children:"CMake 'X.X.X' was not found in SDK, PATH, or by cmake.dir property."})})]}),"\n",(0,s.jsxs)(t.p,{children:["open ",(0,s.jsx)(t.em,{children:"Tools > SDK Manager"}),", switch to the ",(0,s.jsx)(t.em,{children:"SDK Tools"})," tab.\nFind ",(0,s.jsx)(t.code,{children:"CMake"})," and click ",(0,s.jsx)(t.em,{children:"Show Package Details"})," and download compatiable version ",(0,s.jsx)(t.strong,{children:"'X.X.X'"}),", and apply to install."]}),"\n",(0,s.jsx)(t.h2,{id:"web",children:"Web"}),"\n",(0,s.jsxs)(t.p,{children:["To use this library in the browser, see ",(0,s.jsx)(t.a,{href:"/docs/getting-started/web",children:"these instructions"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"tv",children:"TV"}),"\n",(0,s.jsxs)(t.p,{children:["Starting from version ",(0,s.jsx)(t.a,{href:"https://github.com/Shopify/react-native-skia/releases/tag/v1.9.0",children:"1.9.0"})," React Native Skia supports running on TV devices using ",(0,s.jsx)(t.a,{href:"https://github.com/react-native-tvos/react-native-tvos",children:"React Native TVOS"}),".\nCurrently both Android TV and Apple TV are supported."]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["Not all features have been tested yet, so please ",(0,s.jsx)(t.a,{href:"https://github.com/Shopify/react-native-skia/issues",children:"report"})," any issues you encounter when using React Native Skia on TV devices."]})}),"\n",(0,s.jsx)(t.h2,{id:"debugging",children:"Debugging"}),"\n",(0,s.jsxs)(t.p,{children:["We recommend using React Native DevTools to debug your JS code \u2014 see the ",(0,s.jsx)(t.a,{href:"https://reactnative.dev/docs/debugging",children:"React Native docs"}),". Alternatively, you can debug both JS and platform code in VS Code and via native IDEs. If using VS Code, we recommend ",(0,s.jsx)(t.a,{href:"https://github.com/expo/vscode-expo",children:"Expo Tools"}),", ",(0,s.jsx)(t.a,{href:"https://ide.swmansion.com/",children:"Radon IDE"}),", or Microsoft's ",(0,s.jsx)(t.a,{href:"https://marketplace.visualstudio.com/items?itemName=msjsdiag.vscode-react-native#debugging-react-native-applications",children:"React Native Tools"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"testing-with-jest",children:"Testing with Jest"}),"\n",(0,s.jsx)(t.p,{children:"React Native Skia test mocks use a web implementation that depends on loading CanvasKit."}),"\n",(0,s.jsxs)(t.p,{children:["The very first step is to make sure that your Skia files are not being transformed by jest, for instance, we can add it the ",(0,s.jsx)(t.code,{children:"transformIgnorePatterns"})," directive:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'"transformIgnorePatterns": [\n  "node_modules/(?!(react-native|react-native.*|@react-native.*|@?react-navigation.*|@shopify/react-native-skia)/)"\n]\n'})}),"\n",(0,s.jsxs)(t.p,{children:["You also need to add the following to your ",(0,s.jsx)(t.code,{children:"jest.config.js"})," file:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'// jest.config.js\nmodule.exports = {\n  // Other values\n  testEnvironment: "@shopify/react-native-skia/jestEnv.js",\n  setupFilesAfterEnv: [\n    "@shopify/react-native-skia/jestSetup.js",\n  ],\n};\n'})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"jestEnv.js"})," will load CanvasKit for you and ",(0,s.jsx)(t.code,{children:"jestEnv.js"})," mocks React Native Skia.\nYou can also have a look at the ",(0,s.jsx)(t.a,{href:"https://github.com/Shopify/react-native-skia/tree/main/apps/example",children:"example app"})," to see how Jest tests are enabled there."]}),"\n",(0,s.jsx)(t.h2,{id:"playground",children:"Playground"}),"\n",(0,s.jsxs)(t.p,{children:["We have example projects you can play with ",(0,s.jsx)(t.a,{href:"https://github.com/Shopify/react-native-skia/tree/main/apps",children:"here"}),".\nIt would require you first to ",(0,s.jsx)(t.a,{href:"https://github.com/shopify/react-native-skia?tab=readme-ov-file#library-development",children:"build Skia locally"})," first."]})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);