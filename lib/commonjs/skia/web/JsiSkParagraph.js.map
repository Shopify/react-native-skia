{"version":3,"names":["_Host","require","JsiSkParagraph","HostObject","constructor","CanvasKit","ref","getMinIntrinsicWidth","getMaxIntrinsicWidth","getLongestLine","layout","width","paint","canvas","x","y","drawParagraph","getHeight","getMaxWidth","getGlyphPositionAtCoordinate","pos","getRectsForPlaceholders","map","rect","dir","at","height","direction","value","getRectsForRange","start","end","getLineMetrics","r","index","left","dispose","delete","exports"],"sources":["JsiSkParagraph.ts"],"sourcesContent":["import type { CanvasKit, Paragraph } from \"canvaskit-wasm\";\n\nimport type { SkRect, SkRectWithDirection, SkParagraph } from \"../types\";\n\nimport { HostObject } from \"./Host\";\nimport type { JsiSkCanvas } from \"./JsiSkCanvas\";\n\nexport class JsiSkParagraph\n  extends HostObject<Paragraph, \"Paragraph\">\n  implements SkParagraph\n{\n  constructor(CanvasKit: CanvasKit, ref: Paragraph) {\n    super(CanvasKit, ref, \"Paragraph\");\n  }\n  getMinIntrinsicWidth(): number {\n    return this.ref.getMinIntrinsicWidth();\n  }\n\n  getMaxIntrinsicWidth(): number {\n    return this.ref.getMaxIntrinsicWidth();\n  }\n\n  getLongestLine(): number {\n    return this.ref.getLongestLine();\n  }\n\n  layout(width: number): void {\n    this.ref.layout(width);\n  }\n  paint(canvas: JsiSkCanvas, x: number, y: number): void {\n    canvas.ref.drawParagraph(this.ref, x, y);\n  }\n  getHeight(): number {\n    return this.ref.getHeight();\n  }\n  getMaxWidth(): number {\n    return this.ref.getMaxWidth();\n  }\n  getGlyphPositionAtCoordinate(x: number, y: number): number {\n    return this.ref.getGlyphPositionAtCoordinate(x, y).pos;\n  }\n  getRectsForPlaceholders(): SkRectWithDirection[] {\n    return this.ref.getRectsForPlaceholders().map(({ rect, dir }) => ({\n      rect: {\n        x: rect.at(0)!,\n        y: rect.at(1)!,\n        width: rect.at(2)!,\n        height: rect.at(3)!,\n      },\n      direction: dir.value,\n    }));\n  }\n  getRectsForRange(start: number, end: number): SkRect[] {\n    return this.ref\n      .getRectsForRange(\n        start,\n        end,\n        { value: 0 } /** kTight */,\n        { value: 0 } /** kTight */\n      )\n      .map(({ rect }) => ({\n        x: rect[0],\n        y: rect[1],\n        width: rect[2],\n        height: rect[3],\n      }));\n  }\n  getLineMetrics(): SkRect[] {\n    return this.ref.getLineMetrics().map((r, index) => ({\n      x: r.left,\n      y: index * r.height,\n      width: r.width,\n      height: r.height,\n    }));\n  }\n\n  dispose() {\n    this.ref.delete();\n  }\n}\n"],"mappings":"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","ignoreList":[]}