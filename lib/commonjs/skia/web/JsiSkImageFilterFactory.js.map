{"version":3,"names":["_Host","require","_JsiSkImageFilter","_JsiSkColorFilter","JsiSkImageFilterFactory","Host","constructor","CanvasKit","MakeOffset","dx","dy","input","inputFilter","JsiSkImageFilter","fromValue","filter","ImageFilter","MakeDisplacementMap","channelX","channelY","scale","in1","getEnum","MakeShader","shader","_input","MakeBlur","sigmaX","sigmaY","mode","MakeColorFilter","cf","JsiSkColorFilter","MakeCompose","outer","inner","MakeDropShadow","color","cropRect","throwNotImplementedOnRNWeb","MakeDropShadowOnly","MakeErode","rx","ry","MakeDilate","MakeBlend","background","foreground","MakeRuntimeShader","_builder","_childShaderName","exports"],"sources":["JsiSkImageFilterFactory.ts"],"sourcesContent":["import type { CanvasKit, ImageFilter } from \"canvaskit-wasm\";\n\nimport type {\n  ColorChannel,\n  ImageFilterFactory,\n  SkColor,\n  SkColorFilter,\n  SkImageFilter,\n  BlendMode,\n  SkRect,\n  SkRuntimeShaderBuilder,\n  SkShader,\n  TileMode,\n} from \"../types\";\n\nimport { Host, throwNotImplementedOnRNWeb, getEnum } from \"./Host\";\nimport { JsiSkImageFilter } from \"./JsiSkImageFilter\";\nimport { JsiSkColorFilter } from \"./JsiSkColorFilter\";\n\nexport class JsiSkImageFilterFactory\n  extends Host\n  implements ImageFilterFactory\n{\n  constructor(CanvasKit: CanvasKit) {\n    super(CanvasKit);\n  }\n\n  MakeOffset(dx: number, dy: number, input: SkImageFilter | null) {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    const filter = this.CanvasKit.ImageFilter.MakeOffset(dx, dy, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDisplacementMap(\n    channelX: ColorChannel,\n    channelY: ColorChannel,\n    scale: number,\n    in1: SkImageFilter,\n    input: SkImageFilter | null\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    const filter = this.CanvasKit.ImageFilter.MakeDisplacementMap(\n      getEnum(this.CanvasKit, \"ColorChannel\", channelX),\n      getEnum(this.CanvasKit, \"ColorChannel\", channelY),\n      scale,\n      JsiSkImageFilter.fromValue(in1),\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeShader(shader: SkShader, _input: SkImageFilter | null): SkImageFilter {\n    const filter = this.CanvasKit.ImageFilter.MakeShader(\n      JsiSkImageFilter.fromValue(shader)\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeBlur(\n    sigmaX: number,\n    sigmaY: number,\n    mode: TileMode,\n    input: SkImageFilter | null\n  ) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeBlur(\n        sigmaX,\n        sigmaY,\n        getEnum(this.CanvasKit, \"TileMode\", mode),\n        input === null ? null : JsiSkImageFilter.fromValue(input)\n      )\n    );\n  }\n\n  MakeColorFilter(cf: SkColorFilter, input: SkImageFilter | null) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeColorFilter(\n        JsiSkColorFilter.fromValue(cf),\n        input === null ? null : JsiSkImageFilter.fromValue(input)\n      )\n    );\n  }\n\n  MakeCompose(outer: SkImageFilter | null, inner: SkImageFilter | null) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeCompose(\n        outer === null ? null : JsiSkImageFilter.fromValue(outer),\n        inner === null ? null : JsiSkImageFilter.fromValue(inner)\n      )\n    );\n  }\n\n  MakeDropShadow(\n    dx: number,\n    dy: number,\n    sigmaX: number,\n    sigmaY: number,\n    color: SkColor,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throwNotImplementedOnRNWeb<SkImageFilter>();\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDropShadow(\n      dx,\n      dy,\n      sigmaX,\n      sigmaY,\n      color,\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDropShadowOnly(\n    dx: number,\n    dy: number,\n    sigmaX: number,\n    sigmaY: number,\n    color: SkColor,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throwNotImplementedOnRNWeb<SkImageFilter>();\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDropShadowOnly(\n      dx,\n      dy,\n      sigmaX,\n      sigmaY,\n      color,\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeErode(\n    rx: number,\n    ry: number,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throwNotImplementedOnRNWeb<SkImageFilter>();\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeErode(rx, ry, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDilate(\n    rx: number,\n    ry: number,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throwNotImplementedOnRNWeb<SkImageFilter>();\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDilate(rx, ry, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeBlend(\n    mode: BlendMode,\n    background: SkImageFilter,\n    foreground: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      foreground === null\n        ? null\n        : JsiSkImageFilter.fromValue<ImageFilter>(foreground);\n    if (cropRect) {\n      throwNotImplementedOnRNWeb<SkImageFilter>();\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeBlend(\n      getEnum(this.CanvasKit, \"BlendMode\", mode),\n      JsiSkImageFilter.fromValue(background),\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeRuntimeShader(\n    _builder: SkRuntimeShaderBuilder,\n    _childShaderName: string | null,\n    _input: SkImageFilter | null\n  ) {\n    return throwNotImplementedOnRNWeb<SkImageFilter>();\n  }\n}\n"],"mappings":"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","ignoreList":[]}