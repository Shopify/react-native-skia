{"version":3,"names":["_Host","require","_JsiSkMatrix","_JsiSkShader","_defineProperty","e","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","JsiSkRuntimeEffect","HostObject","constructor","CanvasKit","ref","sksl","delete","source","makeShader","uniforms","localMatrix","JsiSkShader","undefined","JsiSkMatrix","fromValue","makeShaderWithChildren","children","map","child","getUniform","index","getUniformCount","getUniformFloatCount","getUniformName","exports"],"sources":["JsiSkRuntimeEffect.ts"],"sourcesContent":["import type { CanvasKit, RuntimeEffect } from \"canvaskit-wasm\";\n\nimport type { SkMatrix, SkShader } from \"../types\";\nimport type { SkRuntimeEffect } from \"../types/RuntimeEffect/RuntimeEffect\";\n\nimport { HostObject } from \"./Host\";\nimport { JsiSkMatrix } from \"./JsiSkMatrix\";\nimport { JsiSkShader } from \"./JsiSkShader\";\n\nexport class JsiSkRuntimeEffect\n  extends HostObject<RuntimeEffect, \"RuntimeEffect\">\n  implements SkRuntimeEffect\n{\n  constructor(CanvasKit: CanvasKit, ref: RuntimeEffect, private sksl: string) {\n    super(CanvasKit, ref, \"RuntimeEffect\");\n  }\n\n  dispose = () => {\n    this.ref.delete();\n  };\n\n  source() {\n    return this.sksl;\n  }\n\n  makeShader(uniforms: number[], localMatrix?: SkMatrix) {\n    return new JsiSkShader(\n      this.CanvasKit,\n      this.ref.makeShader(\n        uniforms,\n        localMatrix !== undefined\n          ? JsiSkMatrix.fromValue(localMatrix)\n          : localMatrix\n      )\n    );\n  }\n\n  makeShaderWithChildren(\n    uniforms: number[],\n    children?: SkShader[],\n    localMatrix?: SkMatrix\n  ) {\n    return new JsiSkShader(\n      this.CanvasKit,\n      this.ref.makeShaderWithChildren(\n        uniforms,\n        children?.map((child) => JsiSkShader.fromValue(child)),\n        localMatrix !== undefined\n          ? JsiSkMatrix.fromValue(localMatrix)\n          : localMatrix\n      )\n    );\n  }\n\n  getUniform(index: number) {\n    return this.ref.getUniform(index);\n  }\n\n  getUniformCount() {\n    return this.ref.getUniformCount();\n  }\n\n  getUniformFloatCount() {\n    return this.ref.getUniformFloatCount();\n  }\n\n  getUniformName(index: number) {\n    return this.ref.getUniformName(index);\n  }\n}\n"],"mappings":";;;;;;AAKA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,YAAA,GAAAF,OAAA;AAA4C,SAAAG,gBAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAE,cAAA,CAAAF,CAAA,MAAAD,CAAA,GAAAI,MAAA,CAAAC,cAAA,CAAAL,CAAA,EAAAC,CAAA,IAAAK,KAAA,EAAAJ,CAAA,EAAAK,UAAA,MAAAC,YAAA,MAAAC,QAAA,UAAAT,CAAA,CAAAC,CAAA,IAAAC,CAAA,EAAAF,CAAA;AAAA,SAAAG,eAAAD,CAAA,QAAAQ,CAAA,GAAAC,YAAA,CAAAT,CAAA,uCAAAQ,CAAA,GAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAT,CAAA,EAAAD,CAAA,2BAAAC,CAAA,KAAAA,CAAA,SAAAA,CAAA,MAAAF,CAAA,GAAAE,CAAA,CAAAU,MAAA,CAAAC,WAAA,kBAAAb,CAAA,QAAAU,CAAA,GAAAV,CAAA,CAAAc,IAAA,CAAAZ,CAAA,EAAAD,CAAA,uCAAAS,CAAA,SAAAA,CAAA,YAAAK,SAAA,yEAAAd,CAAA,GAAAe,MAAA,GAAAC,MAAA,EAAAf,CAAA;AAErC,MAAMgB,kBAAkB,SACrBC,gBAAU,CAEpB;EACEC,WAAWA,CAACC,SAAoB,EAAEC,GAAkB,EAAUC,IAAY,EAAE;IAC1E,KAAK,CAACF,SAAS,EAAEC,GAAG,EAAE,eAAe,CAAC;IAAC,KADqBC,IAAY,GAAZA,IAAY;IAAAxB,eAAA,kBAIhE,MAAM;MACd,IAAI,CAACuB,GAAG,CAACE,MAAM,CAAC,CAAC;IACnB,CAAC;EAJD;EAMAC,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI,CAACF,IAAI;EAClB;EAEAG,UAAUA,CAACC,QAAkB,EAAEC,WAAsB,EAAE;IACrD,OAAO,IAAIC,wBAAW,CACpB,IAAI,CAACR,SAAS,EACd,IAAI,CAACC,GAAG,CAACI,UAAU,CACjBC,QAAQ,EACRC,WAAW,KAAKE,SAAS,GACrBC,wBAAW,CAACC,SAAS,CAACJ,WAAW,CAAC,GAClCA,WACN,CACF,CAAC;EACH;EAEAK,sBAAsBA,CACpBN,QAAkB,EAClBO,QAAqB,EACrBN,WAAsB,EACtB;IACA,OAAO,IAAIC,wBAAW,CACpB,IAAI,CAACR,SAAS,EACd,IAAI,CAACC,GAAG,CAACW,sBAAsB,CAC7BN,QAAQ,EACRO,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,GAAG,CAAEC,KAAK,IAAKP,wBAAW,CAACG,SAAS,CAACI,KAAK,CAAC,CAAC,EACtDR,WAAW,KAAKE,SAAS,GACrBC,wBAAW,CAACC,SAAS,CAACJ,WAAW,CAAC,GAClCA,WACN,CACF,CAAC;EACH;EAEAS,UAAUA,CAACC,KAAa,EAAE;IACxB,OAAO,IAAI,CAAChB,GAAG,CAACe,UAAU,CAACC,KAAK,CAAC;EACnC;EAEAC,eAAeA,CAAA,EAAG;IAChB,OAAO,IAAI,CAACjB,GAAG,CAACiB,eAAe,CAAC,CAAC;EACnC;EAEAC,oBAAoBA,CAAA,EAAG;IACrB,OAAO,IAAI,CAAClB,GAAG,CAACkB,oBAAoB,CAAC,CAAC;EACxC;EAEAC,cAAcA,CAACH,KAAa,EAAE;IAC5B,OAAO,IAAI,CAAChB,GAAG,CAACmB,cAAc,CAACH,KAAK,CAAC;EACvC;AACF;AAACI,OAAA,CAAAxB,kBAAA,GAAAA,kBAAA","ignoreList":[]}