{"version":3,"names":["HostObject","JsiSkMatrix","JsiSkShader","JsiSkRuntimeEffect","constructor","CanvasKit","ref","sksl","_defineProperty","delete","source","makeShader","uniforms","localMatrix","undefined","fromValue","makeShaderWithChildren","children","map","child","getUniform","index","getUniformCount","getUniformFloatCount","getUniformName"],"sources":["JsiSkRuntimeEffect.ts"],"sourcesContent":["import type { CanvasKit, RuntimeEffect } from \"canvaskit-wasm\";\n\nimport type { SkMatrix, SkShader } from \"../types\";\nimport type { SkRuntimeEffect } from \"../types/RuntimeEffect/RuntimeEffect\";\n\nimport { HostObject } from \"./Host\";\nimport { JsiSkMatrix } from \"./JsiSkMatrix\";\nimport { JsiSkShader } from \"./JsiSkShader\";\n\nexport class JsiSkRuntimeEffect\n  extends HostObject<RuntimeEffect, \"RuntimeEffect\">\n  implements SkRuntimeEffect\n{\n  constructor(CanvasKit: CanvasKit, ref: RuntimeEffect, private sksl: string) {\n    super(CanvasKit, ref, \"RuntimeEffect\");\n  }\n\n  dispose = () => {\n    this.ref.delete();\n  };\n\n  source() {\n    return this.sksl;\n  }\n\n  makeShader(uniforms: number[], localMatrix?: SkMatrix) {\n    return new JsiSkShader(\n      this.CanvasKit,\n      this.ref.makeShader(\n        uniforms,\n        localMatrix !== undefined\n          ? JsiSkMatrix.fromValue(localMatrix)\n          : localMatrix\n      )\n    );\n  }\n\n  makeShaderWithChildren(\n    uniforms: number[],\n    children?: SkShader[],\n    localMatrix?: SkMatrix\n  ) {\n    return new JsiSkShader(\n      this.CanvasKit,\n      this.ref.makeShaderWithChildren(\n        uniforms,\n        children?.map((child) => JsiSkShader.fromValue(child)),\n        localMatrix !== undefined\n          ? JsiSkMatrix.fromValue(localMatrix)\n          : localMatrix\n      )\n    );\n  }\n\n  getUniform(index: number) {\n    return this.ref.getUniform(index);\n  }\n\n  getUniformCount() {\n    return this.ref.getUniformCount();\n  }\n\n  getUniformFloatCount() {\n    return this.ref.getUniformFloatCount();\n  }\n\n  getUniformName(index: number) {\n    return this.ref.getUniformName(index);\n  }\n}\n"],"mappings":";;;AAKA,SAASA,UAAU,QAAQ,QAAQ;AACnC,SAASC,WAAW,QAAQ,eAAe;AAC3C,SAASC,WAAW,QAAQ,eAAe;AAE3C,OAAO,MAAMC,kBAAkB,SACrBH,UAAU,CAEpB;EACEI,WAAWA,CAACC,SAAoB,EAAEC,GAAkB,EAAUC,IAAY,EAAE;IAC1E,KAAK,CAACF,SAAS,EAAEC,GAAG,EAAE,eAAe,CAAC;IAAC,KADqBC,IAAY,GAAZA,IAAY;IAAAC,eAAA,kBAIhE,MAAM;MACd,IAAI,CAACF,GAAG,CAACG,MAAM,CAAC,CAAC;IACnB,CAAC;EAJD;EAMAC,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI,CAACH,IAAI;EAClB;EAEAI,UAAUA,CAACC,QAAkB,EAAEC,WAAsB,EAAE;IACrD,OAAO,IAAIX,WAAW,CACpB,IAAI,CAACG,SAAS,EACd,IAAI,CAACC,GAAG,CAACK,UAAU,CACjBC,QAAQ,EACRC,WAAW,KAAKC,SAAS,GACrBb,WAAW,CAACc,SAAS,CAACF,WAAW,CAAC,GAClCA,WACN,CACF,CAAC;EACH;EAEAG,sBAAsBA,CACpBJ,QAAkB,EAClBK,QAAqB,EACrBJ,WAAsB,EACtB;IACA,OAAO,IAAIX,WAAW,CACpB,IAAI,CAACG,SAAS,EACd,IAAI,CAACC,GAAG,CAACU,sBAAsB,CAC7BJ,QAAQ,EACRK,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEC,GAAG,CAAEC,KAAK,IAAKjB,WAAW,CAACa,SAAS,CAACI,KAAK,CAAC,CAAC,EACtDN,WAAW,KAAKC,SAAS,GACrBb,WAAW,CAACc,SAAS,CAACF,WAAW,CAAC,GAClCA,WACN,CACF,CAAC;EACH;EAEAO,UAAUA,CAACC,KAAa,EAAE;IACxB,OAAO,IAAI,CAACf,GAAG,CAACc,UAAU,CAACC,KAAK,CAAC;EACnC;EAEAC,eAAeA,CAAA,EAAG;IAChB,OAAO,IAAI,CAAChB,GAAG,CAACgB,eAAe,CAAC,CAAC;EACnC;EAEAC,oBAAoBA,CAAA,EAAG;IACrB,OAAO,IAAI,CAACjB,GAAG,CAACiB,oBAAoB,CAAC,CAAC;EACxC;EAEAC,cAAcA,CAACH,KAAa,EAAE;IAC5B,OAAO,IAAI,CAACf,GAAG,CAACkB,cAAc,CAACH,KAAK,CAAC;EACvC;AACF","ignoreList":[]}