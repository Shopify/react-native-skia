{"version":3,"names":["Host","JsiSkFont","JsiSkTextBlob","JsiSkRSXform","JsiSkTextBlobFactory","constructor","CanvasKit","MakeFromText","str","font","TextBlob","fromValue","MakeFromGlyphs","glyphs","MakeFromRSXform","rsxforms","map","f","Array","from","flat","MakeFromRSXformGlyphs","transforms","flatMap","s"],"sources":["JsiSkTextBlobFactory.ts"],"sourcesContent":["import type { CanvasKit } from \"canvaskit-wasm\";\n\nimport type { SkFont } from \"../types\";\nimport type { TextBlobFactory } from \"../types/TextBlob\";\nimport type { SkRSXform } from \"../types/RSXform\";\n\nimport { Host } from \"./Host\";\nimport { JsiSkFont } from \"./JsiSkFont\";\nimport { JsiSkTextBlob } from \"./JsiSkTextBlob\";\nimport { JsiSkRSXform } from \"./JsiSkRSXform\";\n\nexport class JsiSkTextBlobFactory extends Host implements TextBlobFactory {\n  constructor(CanvasKit: CanvasKit) {\n    super(CanvasKit);\n  }\n\n  MakeFromText(str: string, font: SkFont) {\n    return new JsiSkTextBlob(\n      this.CanvasKit,\n      this.CanvasKit.TextBlob.MakeFromText(str, JsiSkFont.fromValue(font))\n    );\n  }\n\n  MakeFromGlyphs(glyphs: number[], font: SkFont) {\n    return new JsiSkTextBlob(\n      this.CanvasKit,\n      this.CanvasKit.TextBlob.MakeFromGlyphs(glyphs, JsiSkFont.fromValue(font))\n    );\n  }\n\n  MakeFromRSXform(str: string, rsxforms: SkRSXform[], font: SkFont) {\n    return new JsiSkTextBlob(\n      this.CanvasKit,\n      this.CanvasKit.TextBlob.MakeFromRSXform(\n        str,\n        rsxforms.map((f) => Array.from(JsiSkRSXform.fromValue(f))).flat(),\n        JsiSkFont.fromValue(font)\n      )\n    );\n  }\n\n  MakeFromRSXformGlyphs(glyphs: number[], rsxforms: SkRSXform[], font: SkFont) {\n    const transforms = rsxforms.flatMap((s) =>\n      Array.from(JsiSkRSXform.fromValue(s))\n    );\n    return new JsiSkTextBlob(\n      this.CanvasKit,\n      this.CanvasKit.TextBlob.MakeFromRSXformGlyphs(\n        glyphs,\n        transforms,\n        JsiSkFont.fromValue(font)\n      )\n    );\n  }\n}\n"],"mappings":"AAMA,SAASA,IAAI,QAAQ,QAAQ;AAC7B,SAASC,SAAS,QAAQ,aAAa;AACvC,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,YAAY,QAAQ,gBAAgB;AAE7C,OAAO,MAAMC,oBAAoB,SAASJ,IAAI,CAA4B;EACxEK,WAAWA,CAACC,SAAoB,EAAE;IAChC,KAAK,CAACA,SAAS,CAAC;EAClB;EAEAC,YAAYA,CAACC,GAAW,EAAEC,IAAY,EAAE;IACtC,OAAO,IAAIP,aAAa,CACtB,IAAI,CAACI,SAAS,EACd,IAAI,CAACA,SAAS,CAACI,QAAQ,CAACH,YAAY,CAACC,GAAG,EAAEP,SAAS,CAACU,SAAS,CAACF,IAAI,CAAC,CACrE,CAAC;EACH;EAEAG,cAAcA,CAACC,MAAgB,EAAEJ,IAAY,EAAE;IAC7C,OAAO,IAAIP,aAAa,CACtB,IAAI,CAACI,SAAS,EACd,IAAI,CAACA,SAAS,CAACI,QAAQ,CAACE,cAAc,CAACC,MAAM,EAAEZ,SAAS,CAACU,SAAS,CAACF,IAAI,CAAC,CAC1E,CAAC;EACH;EAEAK,eAAeA,CAACN,GAAW,EAAEO,QAAqB,EAAEN,IAAY,EAAE;IAChE,OAAO,IAAIP,aAAa,CACtB,IAAI,CAACI,SAAS,EACd,IAAI,CAACA,SAAS,CAACI,QAAQ,CAACI,eAAe,CACrCN,GAAG,EACHO,QAAQ,CAACC,GAAG,CAAEC,CAAC,IAAKC,KAAK,CAACC,IAAI,CAAChB,YAAY,CAACQ,SAAS,CAACM,CAAC,CAAC,CAAC,CAAC,CAACG,IAAI,CAAC,CAAC,EACjEnB,SAAS,CAACU,SAAS,CAACF,IAAI,CAC1B,CACF,CAAC;EACH;EAEAY,qBAAqBA,CAACR,MAAgB,EAAEE,QAAqB,EAAEN,IAAY,EAAE;IAC3E,MAAMa,UAAU,GAAGP,QAAQ,CAACQ,OAAO,CAAEC,CAAC,IACpCN,KAAK,CAACC,IAAI,CAAChB,YAAY,CAACQ,SAAS,CAACa,CAAC,CAAC,CACtC,CAAC;IACD,OAAO,IAAItB,aAAa,CACtB,IAAI,CAACI,SAAS,EACd,IAAI,CAACA,SAAS,CAACI,QAAQ,CAACW,qBAAqB,CAC3CR,MAAM,EACNS,UAAU,EACVrB,SAAS,CAACU,SAAS,CAACF,IAAI,CAC1B,CACF,CAAC;EACH;AACF","ignoreList":[]}