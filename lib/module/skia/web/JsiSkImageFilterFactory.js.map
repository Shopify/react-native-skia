{"version":3,"names":["Host","throwNotImplementedOnRNWeb","getEnum","JsiSkImageFilter","JsiSkColorFilter","JsiSkImageFilterFactory","constructor","CanvasKit","MakeOffset","dx","dy","input","inputFilter","fromValue","filter","ImageFilter","MakeDisplacementMap","channelX","channelY","scale","in1","MakeShader","shader","_input","MakeBlur","sigmaX","sigmaY","mode","MakeColorFilter","cf","MakeCompose","outer","inner","MakeDropShadow","color","cropRect","MakeDropShadowOnly","MakeErode","rx","ry","MakeDilate","MakeBlend","background","foreground","MakeRuntimeShader","_builder","_childShaderName"],"sources":["JsiSkImageFilterFactory.ts"],"sourcesContent":["import type { CanvasKit, ImageFilter } from \"canvaskit-wasm\";\n\nimport type {\n  ColorChannel,\n  ImageFilterFactory,\n  SkColor,\n  SkColorFilter,\n  SkImageFilter,\n  BlendMode,\n  SkRect,\n  SkRuntimeShaderBuilder,\n  SkShader,\n  TileMode,\n} from \"../types\";\n\nimport { Host, throwNotImplementedOnRNWeb, getEnum } from \"./Host\";\nimport { JsiSkImageFilter } from \"./JsiSkImageFilter\";\nimport { JsiSkColorFilter } from \"./JsiSkColorFilter\";\n\nexport class JsiSkImageFilterFactory\n  extends Host\n  implements ImageFilterFactory\n{\n  constructor(CanvasKit: CanvasKit) {\n    super(CanvasKit);\n  }\n\n  MakeOffset(dx: number, dy: number, input: SkImageFilter | null) {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    const filter = this.CanvasKit.ImageFilter.MakeOffset(dx, dy, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDisplacementMap(\n    channelX: ColorChannel,\n    channelY: ColorChannel,\n    scale: number,\n    in1: SkImageFilter,\n    input: SkImageFilter | null\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    const filter = this.CanvasKit.ImageFilter.MakeDisplacementMap(\n      getEnum(this.CanvasKit, \"ColorChannel\", channelX),\n      getEnum(this.CanvasKit, \"ColorChannel\", channelY),\n      scale,\n      JsiSkImageFilter.fromValue(in1),\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeShader(shader: SkShader, _input: SkImageFilter | null): SkImageFilter {\n    const filter = this.CanvasKit.ImageFilter.MakeShader(\n      JsiSkImageFilter.fromValue(shader)\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeBlur(\n    sigmaX: number,\n    sigmaY: number,\n    mode: TileMode,\n    input: SkImageFilter | null\n  ) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeBlur(\n        sigmaX,\n        sigmaY,\n        getEnum(this.CanvasKit, \"TileMode\", mode),\n        input === null ? null : JsiSkImageFilter.fromValue(input)\n      )\n    );\n  }\n\n  MakeColorFilter(cf: SkColorFilter, input: SkImageFilter | null) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeColorFilter(\n        JsiSkColorFilter.fromValue(cf),\n        input === null ? null : JsiSkImageFilter.fromValue(input)\n      )\n    );\n  }\n\n  MakeCompose(outer: SkImageFilter | null, inner: SkImageFilter | null) {\n    return new JsiSkImageFilter(\n      this.CanvasKit,\n      this.CanvasKit.ImageFilter.MakeCompose(\n        outer === null ? null : JsiSkImageFilter.fromValue(outer),\n        inner === null ? null : JsiSkImageFilter.fromValue(inner)\n      )\n    );\n  }\n\n  MakeDropShadow(\n    dx: number,\n    dy: number,\n    sigmaX: number,\n    sigmaY: number,\n    color: SkColor,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throwNotImplementedOnRNWeb<SkImageFilter>();\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDropShadow(\n      dx,\n      dy,\n      sigmaX,\n      sigmaY,\n      color,\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDropShadowOnly(\n    dx: number,\n    dy: number,\n    sigmaX: number,\n    sigmaY: number,\n    color: SkColor,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throwNotImplementedOnRNWeb<SkImageFilter>();\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDropShadowOnly(\n      dx,\n      dy,\n      sigmaX,\n      sigmaY,\n      color,\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeErode(\n    rx: number,\n    ry: number,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throwNotImplementedOnRNWeb<SkImageFilter>();\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeErode(rx, ry, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeDilate(\n    rx: number,\n    ry: number,\n    input: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      input === null ? null : JsiSkImageFilter.fromValue<ImageFilter>(input);\n    if (cropRect) {\n      throwNotImplementedOnRNWeb<SkImageFilter>();\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeDilate(rx, ry, inputFilter);\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeBlend(\n    mode: BlendMode,\n    background: SkImageFilter,\n    foreground: SkImageFilter | null,\n    cropRect?: SkRect\n  ): SkImageFilter {\n    const inputFilter =\n      foreground === null\n        ? null\n        : JsiSkImageFilter.fromValue<ImageFilter>(foreground);\n    if (cropRect) {\n      throwNotImplementedOnRNWeb<SkImageFilter>();\n    }\n    const filter = this.CanvasKit.ImageFilter.MakeBlend(\n      getEnum(this.CanvasKit, \"BlendMode\", mode),\n      JsiSkImageFilter.fromValue(background),\n      inputFilter\n    );\n    return new JsiSkImageFilter(this.CanvasKit, filter);\n  }\n\n  MakeRuntimeShader(\n    _builder: SkRuntimeShaderBuilder,\n    _childShaderName: string | null,\n    _input: SkImageFilter | null\n  ) {\n    return throwNotImplementedOnRNWeb<SkImageFilter>();\n  }\n}\n"],"mappings":"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","ignoreList":[]}